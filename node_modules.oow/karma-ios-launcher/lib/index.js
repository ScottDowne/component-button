// Generated by CoffeeScript 1.6.3
var IOSLauncher, iosctrl;

iosctrl = require('iosctrl');

IOSLauncher = (function() {
  function IOSLauncher(id) {
    this.id = id;
    this.name = 'iOS';
    this.captured = false;
    this.sim = new iosctrl.Simulator;
  }

  IOSLauncher.prototype.start = function(url) {
    return this.sim.open("" + url + "?id=" + this.id).fail(function(err) {
      throw err;
    });
  };

  IOSLauncher.prototype.kill = function(done) {
    if (this.sim.state === 'ready') {
      return done();
    }
    return this.sim.close().then(done, function(err) {
      throw err;
    });
  };

  IOSLauncher.prototype.markCaptured = function() {
    return this.captured = true;
  };

  IOSLauncher.prototype.isCaptured = function() {
    return this.captured;
  };

  return IOSLauncher;

})();

exports["launcher:iOS"] = [
  'type', function(id) {
    return new IOSLauncher(id);
  }
];
